{"version":3,"sources":["components/ImageGalleryList/ImageGalleryList.module.css","shared/components/Input/Input.module.css","shared/components/Section/Section.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","shared/components/Modal/Modal.module.css","shared/components/Button/Button.module.css","components/ContentForModal/ContentForModal.module.css","shared/components/Section/Section.jsx","shared/components/Input/Input.jsx","shared/components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","shared/servises/galleryAPI/fetchGalleryImageList.js","components/ImageGalleryItem/ImageGalleryItem.jsx","shared/components/Modal/Modal.jsx","components/ContentForModal/ContentForModal.jsx","components/ImageGalleryList/ImageGalleryList.jsx","App.js","index.js"],"names":["module","exports","Section","title","children","className","styles","section","container","id","nanoid","Input","props","labelName","value","onChange","type","name","pattern","placeholderValue","autoComplete","autoFocus","s","filterComponent","formComponent","htmlFor","formLabel","formInput","placeholder","defaultProps","Button","text","onClick","undefined","Searchbar","state","query","onInputChange","e","setState","target","onFormSubmit","preventDefault","trim","toast","warn","onSubmit","onInputClear","form","this","Provider","color","size","Component","instance","axios","create","baseURL","params","key","image_type","orientation","per_page","galleryAPI","page","get","q","ImageGalleryItem","imageData","map","item","src","webformatURL","alt","tags","modalRoot","document","getElementById","Modal","close","code","closeModal","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","ContetnForModal","largeImageURL","ImageGalleryList","gallery","totalImages","status","modalOpen","modalObj","error","handleClick","prevState","showModal","find","hideModal","prevProps","_","prevQuery","propsQuery","nextQuery","searchImages","a","result","data","hits","length","totalHits","message","totalPages","Math","ceil","SpinnerDotted","style","zIndex","position","top","left","transform","width","ContentForModal","App","formSubmitHandler","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.81c6bec2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGalleryList_gallery__34tEX\",\"text\":\"ImageGalleryList_text__1rtko\",\"error-container\":\"ImageGalleryList_error-container__RK_ym\",\"error-text\":\"ImageGalleryList_error-text__qHjpv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formComponent\":\"Input_formComponent__3EKrx\",\"formInput\":\"Input_formInput__HwlS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__35xGd\",\"container\":\"Section_container__3lC8T\",\"title\":\"Section_title__1_w_c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Searchbar_form__3iT6o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery-item\":\"ImageGalleryItem_gallery-item__2w9gN\",\"gallery-img\":\"ImageGalleryItem_gallery-img__ozoXu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GFz1\",\"modal\":\"Modal_modal__2Ts9R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-close\":\"Button_modal-close__3_4W6\",\"search\":\"Button_search__Rbob9\",\"load-more\":\"Button_load-more__aek_G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-img\":\"ContentForModal_modal-img__2xYWy\"};","import PropTypes from \"prop-types\";\r\nimport styles from \"./Section.module.css\";\r\n\r\nconst Section = ({ title, children }) => {\r\n  return (\r\n    <section className={styles.section}>\r\n      <div className={styles.container}>{children}</div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Section;\r\n\r\nSection.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport { nanoid } from \"nanoid\";\r\nimport s from \"./Input.module.css\";\r\n\r\nconst id = nanoid();\r\n\r\nconst Input = (props) => {\r\n  const {\r\n    labelName,\r\n    value,\r\n    onChange,\r\n    type,\r\n    name,\r\n    pattern,\r\n    title,\r\n    placeholderValue,\r\n    autoComplete,\r\n    autoFocus,\r\n  } = props;\r\n\r\n  return (\r\n    <div className={name === \"filter\" ? s.filterComponent : s.formComponent}>\r\n      {labelName && (\r\n        <label htmlFor={id} className={s.formLabel}>\r\n          {labelName}:\r\n        </label>\r\n      )}\r\n      <input\r\n        className={s.formInput}\r\n        id={id}\r\n        value={value}\r\n        onChange={onChange}\r\n        type={type}\r\n        name={name}\r\n        pattern={pattern}\r\n        title={title}\r\n        placeholder={placeholderValue}\r\n        autoComplete={autoComplete}\r\n        autoFocus={autoFocus}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Input;\r\n\r\nInput.defaultProps = {\r\n  type: \"text\",\r\n  // placeholder: undefined,\r\n  autoFocus: false,\r\n};\r\n\r\nInput.propTypes = {\r\n  labelName: PropTypes.string,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  type: PropTypes.string,\r\n  name: PropTypes.string,\r\n  pattern: PropTypes.string,\r\n  title: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  autoFocus: PropTypes.bool,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ type, text, onClick, className }) => {\r\n  return (\r\n    <button\r\n      onClick={onClick ? onClick : undefined}\r\n      type={type}\r\n      className={s[className]}\r\n    >\r\n      {text}\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.defaultProps = {\r\n  type: \"button\",\r\n  onClick: undefined,\r\n};\r\n\r\nButton.propTypes = {\r\n  type: PropTypes.string,\r\n  text: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n    PropTypes.object,\r\n  ]),\r\n  onClick: PropTypes.func,\r\n  className: PropTypes.string,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { AiOutlineCompass } from \"react-icons/ai\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Input from \"../../shared/components/Input\";\r\nimport Button from \"../../shared/components/Button\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onInputChange = (e) => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n\r\n  onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.query.trim() === \"\") {\r\n      toast.warn(\"Please, enter your request\");\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.onInputClear();\r\n  };\r\n\r\n  onInputClear = () => {\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={s.form} onSubmit={this.onFormSubmit}>\r\n        <Input\r\n          value={this.state.query}\r\n          onChange={this.onInputChange}\r\n          type=\"text\"\r\n          placeholderValue=\"Search images and photos\"\r\n          autoFocus={true}\r\n          autoComplete=\"off\"\r\n        />\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          text={\r\n            <IconContext.Provider\r\n              value={{\r\n                color: \"rgb(21, 180, 243)\",\r\n                className: \"search-icon\",\r\n                size: \"20px\",\r\n              }}\r\n            >\r\n              <span className={s[\"button-label\"]}>\r\n                <AiOutlineCompass />\r\n              </span>\r\n            </IconContext.Provider>\r\n          }\r\n          className=\"search\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://pixabay.com/api/\",\r\n  params: {\r\n    key: \"24480883-e3616999421f7f8a627deaac2\",\r\n    image_type: \"photo\",\r\n    orientation: \"horizontal\",\r\n    per_page: 12,\r\n  },\r\n});\r\n\r\nconst fetchQuery = (query, page) => {\r\n  return instance.get(\"/\", {\r\n    params: {\r\n      q: query,\r\n      page,\r\n    },\r\n  });\r\n};\r\n\r\nexport const galleryAPI = {\r\n  fetchQuery,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ imageData, onClick }) => {\r\n  const items = imageData.map((item) => (\r\n    <li\r\n      className={s[\"gallery-item\"]}\r\n      key={item.id}\r\n      onClick={() => onClick(item.id)}\r\n    >\r\n      <img\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n        className={s[\"gallery-img\"]}\r\n      />\r\n    </li>\r\n  ));\r\n  return [items];\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageData: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  onClick: PropTypes.func,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Button from \"../Button\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.close);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.close);\r\n  }\r\n\r\n  close = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      return this.props.closeModal();\r\n    }\r\n    if (e.currentTarget === e.target) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.close}>\r\n        <div className={s.modal}>\r\n          <Button\r\n            type=\"button\"\r\n            text=\"&#128473;\"\r\n            onClick={this.close}\r\n            className=\"modal-close\"\r\n          />\r\n          {children}\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  children: PropTypes.node,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ContentForModal.module.css\";\r\n\r\nconst ContetnForModal = ({ largeImageURL, tags }) => {\r\n  return (\r\n    <>\r\n      <img src={largeImageURL} alt={tags} className={s[\"modal-img\"]} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContetnForModal;\r\n\r\nContetnForModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { SpinnerDotted } from \"spinners-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { galleryAPI } from \"../../shared/servises/galleryAPI\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Button from \"../../shared/components/Button\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport Modal from \"../../shared/components/Modal\";\r\nimport ContentForModal from \"../ContentForModal\";\r\n\r\nimport s from \"./ImageGalleryList.module.css\";\r\n\r\nclass ImageGalleryList extends Component {\r\n  state = {\r\n    gallery: [],\r\n    page: 1,\r\n    totalImages: 0,\r\n    status: \"idle\",\r\n    modalOpen: false,\r\n    modalObj: {},\r\n    error: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, _) {\r\n    const prevQuery = prevProps.propsQuery;\r\n    const nextQuery = this.props.propsQuery;\r\n\r\n    if (this.state.status === \"pending\") {\r\n      this.searchImages();\r\n    }\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({\r\n        gallery: [],\r\n        page: 1,\r\n        status: \"pending\",\r\n      });\r\n    }\r\n  }\r\n\r\n  async searchImages() {\r\n    try {\r\n      const query = this.props.propsQuery;\r\n      const { page } = this.state;\r\n\r\n      const result = await galleryAPI.fetchQuery(query, page);\r\n      if (result.data.hits.length === 0) {\r\n        toast.error(\"Sorry we can't find anything(\");\r\n      }\r\n      this.setState((prevState) => ({\r\n        gallery: [...prevState.gallery, ...result.data.hits],\r\n        totalImages: result.data.totalHits,\r\n        status: \"resolved\",\r\n      }));\r\n    } catch (error) {\r\n      this.setState({\r\n        status: \"rejected\",\r\n        error: error.message,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n      status: \"pending\",\r\n    }));\r\n  };\r\n\r\n  showModal = (id) => {\r\n    this.setState((prevState) => {\r\n      const { gallery } = prevState;\r\n      const modalObj = gallery.find((item) => item.id === id);\r\n      return {\r\n        modalObj,\r\n        modalOpen: true,\r\n      };\r\n    });\r\n  };\r\n\r\n  hideModal = () => {\r\n    this.setState({\r\n      modalOpen: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { gallery, totalImages, page, status, modalOpen, error } = this.state;\r\n    const totalPages = Math.ceil(totalImages / 12);\r\n\r\n    return (\r\n      <>\r\n        {status === \"pending\" && (\r\n          <SpinnerDotted\r\n            style={{\r\n              zIndex: \"999\",\r\n              color: \"rgb(21, 180, 243)\",\r\n              position: \"fixed\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {status === \"rejected\" && (\r\n          <div className={s[\"error-container\"]}>\r\n            <img\r\n              src={\r\n                \"https://icons.iconarchive.com/icons/gakuseisean/ivista-2/128/Alarm-Error-icon.png\"\r\n              }\r\n              alt=\"error\"\r\n              width=\"50\"\r\n              className={s[\"error-img\"]}\r\n            />\r\n            <p className={s[\"error-text\"]}>\r\n              <span>Error: </span>\r\n              {error}\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {modalOpen && (\r\n          <Modal closeModal={this.hideModal}>\r\n            <ContentForModal {...this.state.modalObj} />\r\n          </Modal>\r\n        )}\r\n        {gallery.length > 0 && (\r\n          <ul className={s.gallery}>\r\n            <ImageGalleryItem imageData={gallery} onClick={this.showModal} />\r\n          </ul>\r\n        )}\r\n        {gallery.length > 0 && page < totalPages && (\r\n          <Button\r\n            type=\"button\"\r\n            text=\"Load more\"\r\n            onClick={this.handleClick}\r\n            className={\"load-more\"}\r\n          />\r\n        )}\r\n        {page === totalPages && (\r\n          <p className={s.text}>\r\n            We're sorry, but you've reached the end of search results.\r\n          </p>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryList;\r\n\r\nImageGalleryList.propTypes = {\r\n  propsQuery: PropTypes.string,\r\n};\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Section from \"./shared/components/Section\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGalleryList from \"./components/ImageGalleryList\";\n\nimport \"./styles/App.css\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n  };\n\n  formSubmitHandler = (data) => {\n    this.setState({ query: data });\n  };\n\n  render() {\n    return (\n      <>\n        <Section>\n          <Searchbar onSubmit={this.formSubmitHandler} />\n        </Section>\n\n        <Section>\n          <ImageGalleryList propsQuery={this.state.query} />\n        </Section>\n        <ToastContainer autoClose={3000} position=\"top-center\" />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}